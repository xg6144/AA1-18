<html>
  <head>
    <meta charset="utf-8" />
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  </head>
  <body>
    <h2>Hello streaming!</h2>
    <div id="graph"></div>
    <script>
        function rand() {
        return Math.random();
      }
        //data = [trace];
        Plotly.newPlot("graph", [
            {
           y:[1,2,3].map(rand),
           mode : "lines",
           line : { color : "pink"},
            },

           {
               y:[1,2,3].map(rand),
               mode : "lines",
               line : {color : "skyblue"},
           },

           {
               y:[1,2,3].map(rand),
               mode : "lines",
               line : {color : "blue"},
           },
        ]);

        var cnt = 0;
	    var interval = setInterval(function() {
			cnt++;
			Plotly.extendTraces('graph', {
				y: [[rand()], [rand()], [rand()]]
			}, [0, 1, 2]);
			if(cnt == 30) clearInterval(interval);
		}, 300);
    </script>
  </body>
</html>
